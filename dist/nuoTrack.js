!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).nuoTrack=n()}(this,(function(){"use strict";function t(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){if(!(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)))return;var e=[],o=!0,r=!1,i=void 0;try{for(var a,c=t[Symbol.iterator]();!(o=(a=c.next()).done)&&(e.push(a.value),!n||e.length!==n);o=!0);}catch(t){r=!0,i=t}finally{try{o||null==c.return||c.return()}finally{if(r)throw i}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var n=function(n,e){var o="".concat(n,"?");return Object.entries(e).forEach((function(n){var e=t(n,2),r=e[0],i=e[1];o="".concat(o).concat(r,"=").concat(encodeURIComponent(i),"&")})),o},e=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:+new Date,r=t.userId,i=t.appId,a={userId:r||o,appId:i},c=n(t.url||"/xxx/xxxs",a);console.log("post track",c);var u=new XMLHttpRequest;u.onreadystatechange=function(){4===u.readyState&&200===u.status&&e()},u.open("get",c),u.withCredentials=!0,u.send(JSON.stringify(t))},o=function(){var t=window.sessionStorage,n=+new Date;return window.addEventListener("load",(function(){t.getItem("bnVvVHJhY2slMEE=")||(e(),t.setItem("bnVvVHJhY2slMEE=",n))})),n},r=o();console.log(o);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;t.appId,t.userId;e(t,n,r)}}));
