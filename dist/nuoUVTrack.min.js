!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).nuoUVTrack=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function o(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(r,!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}function r(t,e){if(null==t)return{};var n,o,r=function(t,e){if(null==t)return{};var n,o,r={},c=Object.keys(t);for(o=0;o<c.length;o++)n=c[o],e.indexOf(n)>=0||(r[n]=t[n]);return r}(t,e);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(o=0;o<c.length;o++)n=c[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}var c=function(e,n){var o=e+(-1===e.indexOf("?")?"?":"&"),r="";return"string"==typeof n?r=n:"object"===t(n)&&Object.keys(n).forEach((function(t){r+="&".concat(t,"=").concat(n[t])})),o+(r=r.substr(1))},i=function(t){var e=t.parentNode;e&&11!==e.nodeType&&e.removeChild(t)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=t.url,r=t.callback,a="id_".concat((new Date).getTime(),"_").concat(Math.random().toString().substr(2)),u=c(n,o({},e,{callback:a})),s=document.createElement("script");s.type="text/javascript",s.src=u,s.id=a,window[a]=function(t){window[a]=void 0;var e=document.getElementById(a);i(e),r&&"function"==typeof r&&r(t||"success")};var d=document.getElementsByTagName("head");d&&d[0]&&d[0].appendChild(s)},u=window.sessionStorage,s=function(){return"".concat(window.nuoAppTrackId)},d=function(){var t=s();if(u.getItem(t))return u.getItem(t);var e=+new Date,n=Math.round(1e4*Math.random());return window.track_session_id=window.track_session_id||"".concat(t,"-").concat(e).concat(n),u.setItem(t,window.track_session_id),window.track_session_id},f="//data.jss.com.cn/statisticsApi/statistics/sendStatisticsData.do",p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};try{var n=t.userId,c=t.appId,i=r(t,["userId","appId"]),p=s(),l=o({appId:c||window.nuoAppTrackId},i);if(n){l.userId=n,l.appObject=d();var y=+new Date,b="".concat(l.appId,"_").concat(n);u.getItem(b)||(u.setItem(b,y),a({url:f,data:l,callback:e}))}else u.getItem(p)||(l.appObject=d(),a({url:f,data:l,callback:e}))}catch(t){console.log("track error")}};!function(){try{window.addEventListener("load",(function(){p()}))}catch(t){p()}}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;p(t,e)}}));
