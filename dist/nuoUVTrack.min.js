!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).nuoUVTrack=e()}(this,(function(){"use strict";function t(e){return(t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(e)}function e(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function o(t){for(var o=1;o<arguments.length;o++){var r=null!=arguments[o]?arguments[o]:{};o%2?n(r,!0).forEach((function(n){e(t,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n(r).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var r=function(e,n){var o=e+(-1===e.indexOf("?")?"?":"&"),r="";return"string"==typeof n?r=n:"object"===t(n)&&Object.keys(n).forEach((function(t){r+="&".concat(t,"=").concat(n[t])})),o+(r=r.substr(1))},c=function(t){var e=t.parentNode;e&&11!==e.nodeType&&e.removeChild(t)},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.data,n=t.url,a=t.callback,i="id_".concat((new Date).getTime(),"_").concat(Math.random().toString().substr(2)),s=r(n,o({},e,{callback:i})),u=document.createElement("script");u.type="text/javascript",u.src=s,u.id=i,window[i]=function(t){window[i]=void 0;var e=document.getElementById(i);c(e),a&&"function"==typeof a&&a(t||"success")};var d=document.getElementsByTagName("head");d&&d[0]&&d[0].appendChild(u)},i=window.sessionStorage,s=function(){return"".concat(window.nuoAppTrackId)},u=function(){var t=s();if(i.getItem(t))return i.getItem(t);var e=+new Date,n=Math.round(1e4*Math.random());return window.track_session_id=window.track_session_id||"".concat(t,"-").concat(e).concat(n),i.setItem(t,window.track_session_id),window.track_session_id},d="//data.jss.com.cn/statisticsApi/statistics/sendStatisticsData.do",f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};try{var n=t.userId,o=t.appId,r=s(),c={appId:o||window.nuoAppTrackId};if(n){c.userId=n,c.appObject=u();var f=+new Date,p="".concat(c.appId,"_").concat(n);i.getItem(p)||(i.setItem(p,f),a({url:d,data:c,callback:e}))}else i.getItem(r)||(c.appObject=u(),a({url:d,data:c,callback:e}))}catch(t){console.log("track error")}};!function(){try{window.addEventListener("load",(function(){f()}))}catch(t){f()}}();return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;f(t,e)}}));
